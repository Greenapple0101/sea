# 배포 후 접속 가이드

## 🌐 접속 URL

### 프론트엔드 (메인 접속 주소)
```
http://3.27.78.93:3000
```

**이 주소로 접속하시면 됩니다!**

서버 정보:
- 서버 IP: `3.27.78.93`
- 사용자: `ubuntu`
- SSH Credential ID: `ubuntu`

---

## 📊 서비스 포트

| 서비스 | 포트 | 접속 URL | 용도 |
|--------|------|----------|------|
| **프론트엔드** | 3000 | `http://<EC2_IP>:3000` | ✅ **메인 접속 주소** |
| 백엔드 API | 8080 | `http://<EC2_IP>:8080` | API 직접 접근 (프론트에서 자동 프록시) |

---

## 🔗 접속 흐름

```
사용자 브라우저
    ↓
http://<EC2_IP>:3000 (프론트엔드)
    ├── / → React 앱 (Nginx가 서빙)
    ├── /api → 백엔드로 자동 프록시 (포트 8080)
    └── /ws → WebSocket 자동 프록시 (포트 8080)
```

**프론트엔드 주소 하나로 모든 기능 사용 가능!**

---

## ✅ 접속 확인 방법

### 1. 브라우저에서 접속
```
http://<EC2_퍼블릭_IP>:3000
```

예시:
```
http://3.27.78.93:3000
```

### 2. EC2 퍼블릭 IP 확인 방법

#### AWS 콘솔에서:
1. EC2 → Instances
2. 인스턴스 선택
3. **Public IPv4 address** 확인

#### 또는 Jenkins Credential에서:
- Jenkins → Manage Jenkins → Credentials
- `ec2-host` credential 확인

---

## 🔒 보안그룹 설정 확인

EC2 Security Group에서 다음 포트가 열려있는지 확인:

- **포트 3000**: 프론트엔드 접속용 (필수)
- **포트 8080**: 백엔드 API 직접 접근용 (선택사항)

**인바운드 규칙:**
```
Type: Custom TCP
Port: 3000
Source: 0.0.0.0/0 (또는 특정 IP)
```

---

## 🧪 헬스 체크

배포 후 자동으로 헬스 체크가 실행됩니다:

- 백엔드: `http://<EC2_IP>:8080/actuator/health`
- 프론트엔드: `http://<EC2_IP>:3000`

---

## 📱 사용자 역할별 접속

### 학생
1. `http://<EC2_IP>:3000` 접속
2. 역할 선택 → 학생
3. 로그인

### 교사
1. `http://<EC2_IP>:3000` 접속
2. 역할 선택 → 교사
3. 로그인

---

## 🔍 문제 해결

### 접속이 안 될 때

1. **EC2 퍼블릭 IP 확인**
   ```bash
   # EC2에서 실행
   curl ifconfig.me
   ```

2. **포트 확인**
   ```bash
   # EC2에서 실행
   sudo netstat -tlnp | grep -E '3000|8080'
   ```

3. **보안그룹 확인**
   - AWS 콘솔 → EC2 → Security Groups
   - 포트 3000 인바운드 규칙 확인

4. **서비스 상태 확인**
   ```bash
   # EC2에서 실행
   sudo systemctl status nginx
   sudo systemctl status sca-backend
   ```

5. **로그 확인**
   ```bash
   # EC2에서 실행
   tail -f /home/ubuntu/sca/backend/logs/application.log
   sudo tail -f /var/log/nginx/error.log
   ```

---

## ✅ 요약

**접속 주소:**
```
http://<EC2_퍼블릭_IP>:3000
```

**예시:**
```
http://3.27.78.93:3000
```

이 주소로 접속하면 프론트엔드가 표시되고, 모든 API 호출은 자동으로 백엔드로 프록시됩니다!

